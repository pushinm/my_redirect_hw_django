{% extends 'layout/base.html' %} 
{% load custom_template_tags %} 
{% block title %} Студенты {% endblock title %} 

{% block content %}
<table class="table table-striped container-fluid mt-5">
  {% for group in groups %}
  <tr>
    <td>{{ forloop.counter }}</td>
    <td>{{ group }}</td>

    {% for student in group.student_group.all %} 
        <td>
            <a href="{% url 'students_view' student.pk %}">
                {{ student.first_name }} {{ student.last_name }}
            </a>
        </td>
    {% endfor %}
    {% for student in group.student_group.all %} 
        {% if max_cols > group.student_group.all|length %}
            <td></td>
        {% endif %} 
    {% endfor %}
  </tr>
  {% endfor %}
</table>
<div class="row">
    <div class="col-12">
        <a class="btn btn-success" href="{% url 'student_add' %}">Добавить студента</a>
    </div>
</div>

{% endblock content %}
